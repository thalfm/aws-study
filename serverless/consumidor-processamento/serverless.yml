service: consumidor-processamento
frameworkVersion: '3'

provider:
  name: aws
  profile: cloudguru
  runtime: nodejs18.x

functions:
  consumidorProcessamento:
    name: 'consumidor-processamento'
    handler: index.handler
    events:
      - sqs:
          batchSize: 1
          maximumConcurrency: ${env:AWS_LAMBDA_MAXIMUM_CONCURRENCY, 10}
          arn:
            Fn::Join:
              - ':'
              - - arn
                - aws
                - sqs
                - Ref: AWS::Region
                - Ref: AWS::AccountId
                - consumidor-processamento-sqs

